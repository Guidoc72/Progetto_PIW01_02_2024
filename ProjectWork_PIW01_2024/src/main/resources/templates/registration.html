<!DOCTYPE html>
	<html xmlns:th="http://www.thymeleaf.org">
		<head>
			<meta charset="ISO-8859-1">
			<title>Registrazione</title>
			<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
			<link rel="stylesheet" href="style.css">
		</head>
		<body>
		
		<div class="container">

		<div class="container mt-5">

			<h1>Registrazione</h1>
			<form th:action="@{/richiestaRegistro}" method="post" th:object=${new_utente}>
			  <div class="mb-3">
			    <label for="nome" class="form-label">Nome</label>
			    <input type="text" class="form-control" id="nome" aria-describedby="emailHelp" th:field="*{nome}">
			    <div id="nome" class="form-text">(*)</div>
<!--				Questo stampa l'errore personalizzato su ogni campo	-->

					<div th:if="${#fields.hasErrors('nome')}">
					<span  th:errors="*{nome}"></span>
					</div>
			  </div>
			  
			   <div class="mb-3">
			    <label for="cognome" class="form-label">Cognome</label>
			    <input type="text" class="form-control" id="cognome" aria-describedby="emailHelp" th:field="*{cognome}" >
			    <div id="cognome" class="form-text">(*)</div>
<!--				Questo stampa l'errore personalizzato su ogni campo	-->

					<div th:if="${#fields.hasErrors('cognome')}">
					<span  th:errors="*{cognome}"></span>
					</div>
			  </div>
			  
			  <div class="mb-3">
			    <label for="email" class="form-label">Email</label>
			    <input type="text" class="form-control" id="email" aria-describedby="emailHelp" th:field="*{email}" >
			    <div id="cognome" class="form-text">(*)Inserire una email valida</div>
<!--				Questo stampa l'errore personalizzato su ogni campo	-->
				<div th:if="${#fields.hasErrors('email')}">
					<span  th:errors="*{email}"></span>
				</div>	
			  </div>
			  
			  <div class="mb-3">
			    <label for="exampleInputEmail1" class="form-label">Telefono</label>
			    <input type="number" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" th:field="*{telefono}">
			    
			  </div>
			  
			    
			  <div class="mb-3">
			    <label for="password" class="form-label">Password</label>
			    <input type="password" class="form-control" id="password" th:field="*{password}">
			    <div id="password" class="form-text">(*)</div>
<!--				Questo stampa l'errore personalizzato su ogni campo	-->

					<div th:if="${#fields.hasErrors('password')}" >
					<span th:errors="*{password}"></span>
					</div>
			  </div>
			  
			  <div th:if="${message != null}">
					<p class="text-warning" th:text="${message}"></p>
				</div>
				<div th:if="${saveResultMessage != null}">
					<p class="text-warning" th:text="${saveResultMessage}"></p>
				</div>
			  
				  <input type="checkbox" name="check" id="abilitaInput" onclick="abilitaCampoInput()">Docente
				    <br>
				    <input type="text" style="display: none;" id="campoInput" name="codiceDocente">
			  		<input type="hidden" id="message" th:value="${saveResultMessage}" />
			  <button type="submit" class="btn btn-primary" >Invia</button>
			  <button type="button" onclick="location.href='/login'" class="btn btn-secondary">Accedi</button>
			  <br>
				<p style="color: red;" class="fs-6 fw-lighter">(*) Campo Obligatorio</p>
			</form>
			
		</div>
		</div>
		
		    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
		
		
			
<script>
const checkbox = document.getElementById("abilitaInput");
const campoInput = document.getElementById("campoInput");

checkbox.addEventListener("change", function() {
    campoInput.style.display = this.checked ? "block" : "none";
    campoInput.placeholder = "Inserisca il codice"
    campoInput.required = this.checked;
});

</script>
		</body>
	</html>